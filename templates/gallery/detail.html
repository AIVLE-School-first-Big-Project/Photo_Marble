{% extends "base.html" %}
{% block content %}
{% load static %}
<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="{% static 'gallery/assets/css/detail_style.css' %}"/>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

  <!-- 요기에 구글 머티리얼 아이콘 -->
  <link
    href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Two+Tone|Material+Icons+Round|Material+Icons+Sharp"
    rel="stylesheet">

</head>

<body>
  

    <div class="main_body">
      <div class="left_body">
        <div class="border feed_box">
          <div class="feed_name">
            <div class="profile_box">
              <img class="profile_img" src="{{ profile_photo }}">
            </div>
            {% comment %} <p>&nbsp;&nbsp; {{uploader}} </p> {% endcomment %}
            <span class="feed_name_txt"> {{ uploader }} </span>
          </div>
          
          
          <img class="feed_img" src="{{ data.photo_url }}">

          <div class="feed_like">
            {% if likes %}
              <span class="feed_name_txt">좋아요 {{ len_likes }}개 </span>
            
            {% else %}
              <span class="feed_name_txt">좋아요 0개</span>

            {% endif %}
          </div>
          <div class="feed_icon">
            <div>
              
              <button style="background-color:white;border: none;" id="chat_btn" type="button"><img style="weight:30px;height:30px;" src="/../../static/gallery/images/heart_1.png"></button> 
              {% comment %} <button style="background-color:white;border: none;" id="chat_btn" type="button"><img style="weight:25px;height:25px;" src="/../../static/gallery/images/chat.png"></button> {% endcomment %}
            </div>
          </div>

          

          <!-- 게시글 -->
          <div class="feed_content">
            <p class="feed_txt"> <b> {{ data.userId }} </b> </p>
          </div>
          <div class="feed_reply">

            <!-- 다른 사용자의 댓글 기능 -->
            {% if comments %}
              {% for comment in comments%}
                {% if comment.user.id == my_id %}
                    <div>
                        <span class="feed_txt"> <b> {{ comment.user.nickname}} </b> {{ comment.content }} <b> </span> <b><b>
                        <a href="{% url 'comment_delete' data.gallery_id comment.comment_id %}"> <img class="delete" src="{% static 'gallery/images/delete.png' %}" width=20px height=20px;> </a>
                        {% if comment.created_string == False %}
                          <span class="timestamp">{{ comment.updated_at|date:'m월 d일' }}</span>
                        {% else %}
                          <span class="timestamp">{{ comment.created_string }}</span>
                        {% endif %}
                  </div>    
                {% else %}
                  <div>
                    <span class="feed_txt"> <b> {{ comment.user.nickname}} </b> {{ comment.content }}</span>
                      {% if comment.created_string == False %}
                        <span class="timestamp">{{ comment.updated_at|date:'m월 d일' }}</span>
                      {% else %}
                          <span class="timestamp">{{ comment.created_string }}</span>
                      {% endif %}
                  </div> 
                {% endif%}
            {% endfor %}
            {% endif %}

 

      


        <!-- 댓글 작성 -->
        <form method="POST">
          {% csrf_token %}
          <input name="comment_textbox" type="text" style="width:85%;" placeholder="댓글 달기">
          <input id = 'btn1' class="btn" type="submit" style="width:auto;" value="등록">
        </form>

      </div>
    </div>
  </div>
</div>

</body>
</html>




<!-- Optional JavaScript; choose one of the two! -->

<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj"
        crossorigin="anonymous">
      
        {% comment %} function zoomIn(x) {
          x.style.transform = "scale(1.2)"; //1.2배 확대
          x.style.zIndex = 1;
          x.style.transition = "all 0.2s";// 속도
        }
      
        function zoomOut(x) {
          x.target.style.transform = "scale(1)";
          x.target.style.zIndex = 0;
          x.target.style.transition = "all 0.2s";
        } {% endcomment %}
</script>
{% endblock %}

