{% extends "base.html" %}
{% load static %}
{% block content %}

<!DOCTYPE html>
<html style="font-size: 16px;">
    <head>
    <link rel="stylesheet" href="{% static 'photoguide/assets/css/nicepage.css' %}" media="screen">
    <link rel="stylesheet" href="{% static 'photoguide/assets/css/photoguide.css' %}" media="screen">
    <script class="u-script" type="text/javascript" src="{% static 'main/assets/js/jquery.js' %}" defer=""></script>
    <script class="u-script" type="text/javascript" src="{% static 'main/assets/js/nicepage.js' %}" defer=""></script>
    <meta name="generator" content="Nicepage 4.9.5, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="mypage">
    <meta property="og:type" content="website">
    </head>
  
    <body class="u-body u-xl-mode">
      <section class="u-clearfix u-white u-section-1" id="sec-81db">
        <div class="u-absolute-hcenter u-container-style u-expanded u-gradient u-group u-shape-rectangle u-group-1">
          <div class="u-container-layout u-container-layout-1"></div>
        </div>
        
        <div class="u-clearfix u-layout-wrap u-layout-wrap-1">
            <h1 class="display-4" style="font-family: 'Cafe24Ssurround';color:#db545a;text-align: center;"> 포토가이드 </h1>
          <div style="box-shadow: 5px 5px 5px #bababa;text-align: center;" class="u-gutter-0 u-layout">
    
            <div style="height:600px;text-align: center;display: grid;" class="cell-temp-clone u-align-left u-container-style u-layout-cell u-size-9 u-white u-layout-cell-8">
                <form method="post" action="photoguide_update" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div style="" id="label_input">
                    <br>
                    <label for="file">사진을 등록해주세요</label>
                    
                    </div>
                    <div style="text-align:center;width:420px; height:420px;">
                        <img id="tempImage" src="../../static/photoguide/images/photo-placeholder.png"></a>
                    </div>
                    <div class="item" id="filebox">
                    
                    <input type="file" id="file" class="file" name="file" onchange="imageView(this)" accept="image/png, image/jpeg" required>
                    
                    </div>
                    <br><br>
                    <div class="item" >
                        <button style="background-image: linear-gradient(to right, #77aad9, #e68387);
                        border-style: none; height : 40; width:80; margin : -4 0 0 0 ;
                        color: white;" type="submit" id = 'btn1' class="btn"> 등록하기</button>
                    </div>
                </div>
            </div>
        </section>

      
    

  
    <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-05fd">
        <div class="u-clearfix u-sheet u-sheet-1">
            <p class="u-small-text u-text u-text-variant u-text-1">
                <span style="font-size: 1rem;">KT AIVLE SCHOOL AI 수도권 4반</span><br>
            </p>
        </div>
    </footer>
</body>

<script>
  function imageView(input) {
      
        /* Secure Coding */
        fileName = input.files[0].name
        if(!fileName.endsWith(".png") && !fileName.endsWith(".jpg") && !fileName.endsWith(".jpeg") && !fileName.endsWith(".PNG") && !fileName.endsWith(".JPG") && !fileName.endsWith(".JPEG")) {         
        document.getElementById("file").value = "";
        out.wright("업로드할 수 없는 확장자입니다.")
        } else {

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function(e) {
                $('#tempImage').attr('src', e.target.result)
                 .width(400)
                 .height(400);
                }
    
            reader.readAsDataURL(input.files[0]);
            }
        }
    }

  const modal = document.getElementById("modal_add_feed");
    const buttonAddFeed = document.getElementById("add_feed");
    buttonAddFeed.addEventListener("click", e => {
        modal.style.display = "flex";
        document.body.style.overflowY = "hidden";
    });

</script>


  {% endblock %} 
